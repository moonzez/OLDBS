<%= javascript_include_tag :defaults %>
<%= calendar_date_select_includes :style=>"default", :locale=>"de"%>

<head>
  <title>Terminanfrage Halbtagesseminare</title>
</head>
<body>
  <% form_for(@htseminar) do |f| %>
    <div class="xujError"><%= flash[:notice1] %></div>
    <div class="xujError"><%= f.error_message_on :gender, "Wählen Sie bitte die Anrede aus." %></div>
    <div class="xujError"><%= f.error_message_on :firstname, "Geben Sie bitte den Vornamen ein." %></div>
    <div class="xujError"><%= f.error_message_on :lastname, "Geben Sie bitte den Namen ein." %></div>
    <div class="xujError"><%= f.error_message_on :email, "Geben Sie bitte eine g&uuml;ltige E-Mail-Adresse ein." %></div>
    <div class="xujError"><%= f.error_message_on :schoolname, "Geben Sie bitte den Namen der Schule/Institution ein." %></div>
    <div class="xujError"><%= f.error_message_on :street, "Geben Sie bitte die Adresse der Schule/Institution ein." %></div>
    <div class="xujError"><%= f.error_message_on :city, "Geben Sie bitte den Ort der Schule/Institution ein." %></div>
    <div class="xujError"><%= f.error_message_on :zip, "Geben Sie bitte eine Postleitzahl ein." %></div>
    <div class="xujError"><%= f.error_message_on :country, "Geben Sie bitte das Land der Schule/Institution ein." %></div>
    <div class="xujError"><%= f.error_message_on :date1, "1.Termin darf nicht fehlen." %></div>
    <div class="xujError"><%= f.error_message_on :from1, "Die erste Uhrzeit des 1.Termins darf nicht fehlen." %></div>
    <div class="xujError"><%= f.error_message_on :to1, "Die zweite Uhrzeit des 1.Termins darf nicht fehlen." %></div>
    <div class="xujError"><%= f.error_message_on :participnumber, "Geben Sie bitte die Anzahl der Teilnehmer ein." %></div>
    <div class="xujError"><%= f.error_message_on :foodnumber, "Bitte die Personenzahl, f&uuml;r die das Mittagsessen organisiert werden soll, angeben!" %></div>
    <div class="xujError"><%= f.error_message_on :cellphone, "Veuillez indiquer/ noter/ préciser le numéro de portable de la personne accompagnante, s’il vous plaît." %></div>
  
    <% if !request.env['HTTP_USER_AGENT'].downcase.index('msie 6.0').blank? %>
      <%@br = 'msie6'%>
    <%else%>
      <%@br = 'other'%>
    <%end%>
    <%= link_to image_tag("deutsch.png", :width => 20), new_htseminar_path %>  
    <%= link_to image_tag("englisch.png", :width => 20), neweng_htseminars_path %>
    <h4 class="ueberschrift">Terminanfrage f&uuml;r ein Halbtagesseminar</h4>
    
    <div class="inhalt4">
  <p>Afin de répondre au mieux à vos attentes, nous vous demandons de bien vouloir remplir le formulaire
    suivant et de nous le renvoyer en cliquant sur « Envoyer le formulaire ».<br/>
    <b>Les champs indiqués par une astérisque * doivent être obligatoirement remplis.</b></p>
    <p>Après réception de votre demande, nous vous faisons parvenir une <b>confirmation</b> ou un <b>refus</b> par mail dans un délai de dix jours.
    Cette confirmation est définitive. </p>
    <p>Le tarif des visites guidées est de <%= number_to_currency(Htseminar::CURRENT_PRICE, :unit => "€", :format => "%n %u")%>.
    Il correspond aux honoraires des guides.
    Si vous ne pouviez assister à la visite ou si le nombre de participants venait à changer, 
    veuillez nous prévenir au moins un jour à l´avance. Toute visite réservée et non annulée sera facturée. 
    En cas de retard veuillez nous prévenir au +49 (0) 8131-669970 </p>
      <%= f.hidden_field :formular, :value=> "fr" %>
      <h5>Contact</h5>
      <p><%=f.label :gender, "* appel:" %>&nbsp;&nbsp;&nbsp;<%= f.radio_button :gender, "Herr" %>&nbsp;Mr.&nbsp;&nbsp;&nbsp;&nbsp;<%= f.radio_button :gender, "Frau" %>&nbsp;Mme</p>
<div style="width: 560px;">
 <p style="float:left; width: 175px; line-height: 0.6em;"><%=f.label :firstname, "* Prénom: " %><br /><%= f.text_field :firstname, :class => 'textfeldgroesse1', :size => 25,:maxlength => 255,
        :oninput => "CheckNames($F(this),'htseminar_firstname','Der Vorname darf nur Groß- und Kleinbuchstaben, \\' ,\\n Binde- und Trennstriche (-) und Leerzeichen enthalten.' )" %></p>
<p style="float:left; width: 175px; line-height: 0.6em;"><%=f.label :lastname, "* Nom: " %><br /><%= f.text_field :lastname, :class => 'textfeldgroesse1', :size => 25, :maxlength => 255,
        :oninput => "CheckNames($F(this),'htseminar_lastname','Der Name darf nur Groß- und Kleinbuchstaben, \\' ,\\n Binde- und Trennstriche (-) und Leerzeichen enthalten.')" %></p>
<p style="float:left; width: 175px; line-height: 0.6em;"><%=f.label :email, "* E-mail: " %><br /><%= f.text_field :email, :class => 'textfeldgroesse1', :size => 25,:maxlength => 255  %></p>
<p style="float:left; width: 175px; line-height: 0.6em;"><%=f.label :telbus, "Tel. professionnel: " %><br /><%= f.text_field :telbus, :class => 'textfeldgroesse1', :size => 25,:maxlength => 255  %></p>
<p style="float:left; width: 175px; line-height: 0.6em;"><%=f.label :telpriv, "Tel. personnel: " %><br /><%= f.text_field :telpriv, :class => 'textfeldgroesse1', :size => 25,:maxlength => 255  %></p>
<p style="float:left; width: 175px; line-height: 0.6em;"><%=f.label :fax, "Fax: " %><br /><%= f.text_field :fax, :class => 'textfeldgroesse1', :size => 25,:maxlength => 255  %></p>
<p style="float:left; width: 175px; line-height: 0.6em;"><%=f.label :telbusTime, "Je suis joignable (prof): " %><br /><%= f.text_field :telbusTime, :class => 'textfeldgroesse1', :size => 25,:maxlength => 255  %></p>
<p style="float:left; width: 175px; line-height: 0.6em;"><%=f.label :telprivTime, "Je suis joignable (pers): " %><br /><%= f.text_field :telprivTime, :class => 'textfeldgroesse1', :size => 25,:maxlength => 255  %></p>
<p style="font-size: 0.9em; float: left; line-height: 1em; width: 480px; margin-top: -10px; margin-bottom: 1.5em;">Si vous souhaitez être contacté à une heure particulière à l´un des numéros de téléphone indiqués, veuillez nous l´indiquer à la rubrique ci-dessus.</p>
</div>
      <div class="clear"></div>
      
<h5>Ecole, institution (adresse de facturation)</h5>
  <div style="width: 560px;">
    <p style="float:left; width: 268px; line-height: 0.6em;"><%=f.label :schoolname, "* Nom de l´école ou institution: " %><br /><%= f.text_field :schoolname, :class => 'textfeldgroesse2', :size => 40,:maxlength => 255  %></p>
    <p style="float:left; width: 268px; line-height: 0.6em;"><%=f.label :street, "* Rue/numéro: " %><br /><%= f.text_field :street, :class => 'textfeldgroesse2', :size => 40,:maxlength => 255  %></p>
    <p style="float:left; line-height: 0.6em;"><%=f.label :zip, "* Code postal: " %><br /><%= f.text_field :zip, :class => 'textfeldgroesse7', :size => 4,:maxlength => 15 %></p>
    <p style="float:left; line-height: 0.6em;"><%=f.label :city, "* Ville: " %><br /><%= f.text_field :city, :class => 'textfeldgroesse4', :size => 32,:maxlength => 255  %></p>
    <p  style="float:left; line-height: 0.6em;"><%=f.label :country, "* Pays: " %><br /><%= f.text_field :country, :class => 'textfeldgroesse4', :size => 40,:maxlength => 255,
       :oninput => "CheckNames($F(this),'htseminar_country','Das Feld \"Land\" darf nur Groß- und Kleinbuchstaben, \\' ,\\n Binde- und Trennstriche (-) und Leerzeichen enthalten.')"%></p>
</div>
      <div class="clear"></div>
    
      <h5>Rendez-vous et langue:</h5>
      <p>Ein Halbtagesseminar dauert 4 Stunden.</p>
      <table>
        <tr><td colspan="5">1. Termin&nbsp(muss eingegeben werden)</td></tr>
        <tr>
          <td><%=f.label :date1,"* am:"%> </td>
          <%if @br == 'other'%>
            <td>
              <%= calendar_date_select_tag "date1",@htseminar[:date1], :year_range => 0.years.ago..5.years.from_now,
                :valid_date_check => "date.stripTime() >= (new Date()).stripTime()", :popup => "force",  :onchange => "set_date($F(this),'htseminar_date1');"%>
              <%= f.hidden_field :date1%>&nbsp;&nbsp;
            </td>
          <%else%>
            <td>
              <%= calendar_date_select_tag "date1",@htseminar[:date1], :year_range => 0.years.ago..5.years.from_now,
                :valid_date_check => "date.stripTime() >= (new Date()).stripTime()", :embedded=> true,  :onchange => "set_date($F(this),'htseminar_date1');"%>
              <%= f.hidden_field :date1%>&nbsp;&nbsp;
            </td>
          <%end%>
          <td><%=f.label :from1,"&nbsp;&nbsp;* von:"%></td>
          <td><%= f.select :from1, Htseminar::FROMEXTERN.collect,{:include_blank=>true},
            { :onchange => "set_hts_timeto('htseminar_from1', 'htseminar_to1')" } %>&nbsp;&nbsp;</td>
          <td><%=f.label :to1,"&nbsp;&nbsp;&nbsp;bis:"%></td>
          <td> <%= f.text_field :to1, :size =>4,:readonly => "true",:include_blank => true%>&nbsp;&nbsp;</td>
          <td>oder</td>
        </tr>
      </table><br/>
      <table>
        <tr><td colspan="5">2. Termin&nbsp(kann als Alternative vorgeschlagen werden)</td></tr>
        <tr>
          <td><%=f.label :date2,"&nbsp;&nbsp;&nbsp;am:"%> </td>
          <%if @br == 'other'%>
            <td>
              <%= calendar_date_select_tag "date2",@htseminar[:date2], :year_range => 0.years.ago..5.years.from_now,
                :valid_date_check => "date.stripTime() >= (new Date()).stripTime()", :popup => "force",  :onchange => "set_date($F(this),'htseminar_date2');"%>
              <%= f.hidden_field :date2%>&nbsp;&nbsp;
            </td>
          <%else%>
            <td>
              <%= calendar_date_select_tag "date2",@htseminar[:date2], :year_range => 0.years.ago..5.years.from_now,
                :valid_date_check => "date.stripTime() >= (new Date()).stripTime()", :embedded => true,  :onchange => "set_date($F(this),'htseminar_date2');"%>
              <%= f.hidden_field :date2%>&nbsp;&nbsp;
            </td>
          <%end%>
          <td><%=f.label :from2,"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;von:"%></td>
          <td><%= f.select :from2, Htseminar::FROMEXTERN.collect,{:include_blank=>true},
            {:onchange =>"set_hts_timeto('htseminar_from2','htseminar_to2')" } %>&nbsp;&nbsp;</td>
          <td><%=f.label :to2,"&nbsp;&nbsp;&nbsp;bis:"%></td>
          <td> <%= f.text_field :to2, :size =>4,:readonly => "true",:include_blank => true%>&nbsp;&nbsp;</td>
          <td>oder</td>
        </tr>
      </table><br/>
      <table>
        <tr><td colspan="5">3. Termin&nbsp(kann als Alternative vorgeschlagen werden)</td></tr>
        <tr>
          <td><%=f.label :date3,"&nbsp;&nbsp;&nbsp;am:"%> </td>
          <%if @br == 'other'%>
            <td>
              <%= calendar_date_select_tag "date3",@htseminar[:date3], :year_range => 0.years.ago..5.years.from_now,
                :valid_date_check => "date.stripTime() >= (new Date()).stripTime()", :popup => "force",  :onchange => "set_date($F(this),'htseminar_date3');"%>
              <%= f.hidden_field :date3%>&nbsp;&nbsp;
            </td>
          <%else%>
            <td>
              <%= calendar_date_select_tag "date3",@htseminar[:date3], :year_range => 0.years.ago..5.years.from_now,
                :valid_date_check => "date.stripTime() >= (new Date()).stripTime()", :embedded => true,  :onchange => "set_date($F(this),'htseminar_date3');"%>
              <%= f.hidden_field :date3%>&nbsp;&nbsp;
            </td>
          <%end%>
                
          <td><%=f.label :from3,"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;von:"%></td>
          <td><%= f.select :from3, Htseminar::FROMEXTERN.collect,{:include_blank=>true},
            {:onchange =>"set_hts_timeto('htseminar_from3','htseminar_to3')" } %>&nbsp;&nbsp;</td>
          <td><%=f.label :to3,"&nbsp;&nbsp;&nbsp;bis:"%></td>
          <td> <%= f.text_field :to3, :size =>4,:readonly => "true",:include_blank => true%>&nbsp;&nbsp;</td>
        </tr>
      </table>
    
      <table>
        <tr>
          <td align ="left"><%=f.label :language, "Sprache:" %></td>
          <td><%= f.select :language, Htseminar::LANGUAGES.collect %></td>
        </tr>
      </table>
      
      <h5>Indications sur le groupe/la classe</h5>
      <p>Attention, les groupes de plus de 30 personnes seront répartis en deux groupes.
    Chaque groupe effectuera une visite guidée séparément.</p>
  <div style="width: 560px;">
    <p><%=f.label :cellphone, "* Numéro de portable de la personne accompagnanteéléphone cellulaire: " %><%= f.text_field :cellphone%></p>
    <p style="float:left; width: 268px; line-height: 0.6em;"><%=f.label :participnumber, "* Nombre de participants: " %><br /><%= f.text_field :participnumber, :class => 'textfeldgroesse4', :size => 20,:maxlength => 3,
    :oninput => "CheckZiffer($F(this),'htseminar_participnumber','Dieses Feld darf nur Zahlen enthalten.')" %></p>
    <p style="float:left; width: 268px; line-height: 0.6em;"><%=f.label :teamleader, "Nombre d´accompagnateurs: " %><br /><%= f.text_field :teamleader, :class => 'textfeldgroesse4', :size => 20,:maxlength => 3,
        :oninput => "CheckZiffer($F(this),'htseminar_teamleader','Dieses Feld darf nur Zahlen enthalten.')"%></p>
    <p style="float:left; width: 268px; line-height: 0.6em;"><%=f.label :male, "visiteurs masculins: " %><br /><%= f.text_field :male, :class => 'textfeldgroesse4', :size => 20,:maxlength => 3,
    :oninput => "CheckZiffer($F(this),'htseminar_male','Dieses Feld darf nur Zahlen enthalten.')" %></p>
    <p style="float:left; width: 268px; line-height: 0.6em;"><%=f.label :female, "visiteurs féminins: " %><br /><%= f.text_field :female, :class => 'textfeldgroesse4', :size => 20,:maxlength => 3,
    :oninput => "CheckZiffer($F(this),'htseminar_female','Dieses Feld darf nur Zahlen enthalten.')" %></p>

    <p style="float:left; width: 175px; line-height: 0.6em;"><%=f.label :schooltype, "Type d´école: " %><br /><%= f.text_field :schooltype, :class => 'textfeldgroesse1', :size => 25,:maxlength => 255  %></p>
    <p style="float:left; width: 175px; line-height: 0.6em;"><%=f.label :schoolgrade, "Classe: " %><br /><%= f.text_field :schoolgrade, :class => 'textfeldgroesse1', :size => 25, :maxlength => 255 %></p>
    <p style="float:left; width: 175px; line-height: 0.6em;"><%=f.label :age, "âge (min requis 14 ans): " %><br /><%= f.text_field :age, :class => 'textfeldgroesse1', :size => 25, :maxlength => 255 %></p>
  </div>
      <p>
        <%=f.label :havebeen, "Les participants connaissent-ils déjà le mémorial du camp de concentration de Dachau?" %><br />
        <%= f.select(:havebeen,  ["ja", "nein", "zum Teil"].collect,:prompt => "Bitte wählen") %>
      </p>
      <p><%=f.label :reason, "Quelle est la raison de la visite du mémorial?" %><br />
        <%= f.text_area :reason, :class => 'textfeldgroesse6', :size => '60', :maxlength => 255 %>
      </p>
      <p><%=f.label :topic, "Quels thèmes devront être abordés en priorité?" %><br />
        <%= f.text_area :topic, :class => 'textfeldgroesse6', :size => '60', :maxlength => 255 %>
      </p>
    
      <table> 
        <tr><td><%=f.label :municstay, "Steht der Besuch der Gedenkstätte im Rahmen eines längeren Aufenthaltes in München? " %></td></tr>
        <tr><td><%= f.text_area :municstay, :class => 'textfeldgroesse6', :size => '60', :maxlength => 255 %></td></tr>
      </table><br/>
    
      <p><%=f.label :remarc, "Remarques" %><br />
        <%= f.text_area :remarc, :class => 'textfeldgroesse6', :size=> '60', :maxlength => 255 %>
      </p>
      <p style="font-family: Verdana, sans-serif;font-size: 11pt; color:red;
         font-weight: bold;"><%= flash[:notice2] %></p>
      <p style="margin-left: 2em;"> <%= show_simple_captcha(:label => "* Veuillez entrer le code affiché (champ obligatoire)", :distortion => 'medium',
        :image_style => 'simple_blue') %> </p>
      <p>
        <%= f.submit "Formular Absenden" %>
    </p><br /></div>
  <% end %>
  
</body>